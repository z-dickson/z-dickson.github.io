<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>About - Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">About</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" rel="" target="" aria-current="page"><i class="bi bi-vector-pen" role="img">
</i> 
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./datasets.html" rel="" target=""><i class="bi bi-bar-chart-line" role="img">
</i> 
 <span class="menu-text">Data &amp; ML</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#elite-cues-and-mass-non-compliance" id="toc-elite-cues-and-mass-non-compliance" class="nav-link active" data-scroll-target="#elite-cues-and-mass-non-compliance">7. Elite Cues and Mass Non-compliance</a></li>
  <li><a href="#going-against-the-grain-climate-change-as-a-wedge-issue-for-the-radical-right" id="toc-going-against-the-grain-climate-change-as-a-wedge-issue-for-the-radical-right" class="nav-link" data-scroll-target="#going-against-the-grain-climate-change-as-a-wedge-issue-for-the-radical-right">6. Going against the Grain: Climate Change as a Wedge Issue for the Radical Right</a></li>
  <li><a href="#the-limits-of-partisan-motivated-reasoning-in-congress" id="toc-the-limits-of-partisan-motivated-reasoning-in-congress" class="nav-link" data-scroll-target="#the-limits-of-partisan-motivated-reasoning-in-congress">5. The Limits of Partisan Motivated Reasoning in Congress</a></li>
  <li><a href="#the-gender-gap-in-elite-voter-responsiveness-online" id="toc-the-gender-gap-in-elite-voter-responsiveness-online" class="nav-link" data-scroll-target="#the-gender-gap-in-elite-voter-responsiveness-online">4. The Gender Gap in Elite-Voter Responsiveness Online</a></li>
  <li><a href="#elite-legislators-and-unequal-representation-in-the-uk" id="toc-elite-legislators-and-unequal-representation-in-the-uk" class="nav-link" data-scroll-target="#elite-legislators-and-unequal-representation-in-the-uk">3. Elite Legislators and Unequal Representation in the UK</a></li>
  <li><a href="#youth-suffrage-and-legislative-responsiveness-to-climate-change-evidence-from-scotland" id="toc-youth-suffrage-and-legislative-responsiveness-to-climate-change-evidence-from-scotland" class="nav-link" data-scroll-target="#youth-suffrage-and-legislative-responsiveness-to-climate-change-evidence-from-scotland">2. Youth Suffrage and Legislative Responsiveness to Climate Change: Evidence from Scotland</a></li>
  <li><a href="#the-relative-online-influence-of-ngos-corporations-and-the-media" id="toc-the-relative-online-influence-of-ngos-corporations-and-the-media" class="nav-link" data-scroll-target="#the-relative-online-influence-of-ngos-corporations-and-the-media">1. The Relative Online Influence of NGOs, Corporations and the Media</a></li>
  <li><a href="#other-words" id="toc-other-words" class="nav-link" data-scroll-target="#other-words">Other words</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<h2 id="elite-cues-and-mass-non-compliance" class="anchored">7. Elite Cues and Mass Non-compliance</h2>
<p>with <a href="https://www.lse.ac.uk/government/people/academic-staff/sara-hobolt">Sara B Hobolt</a> (R&amp;R - APSR)</p>
<p><a href="assets/elite_cues_dickson_hobolt.html">Slide presentation</a> – 2023 PolMeth Europe</p>
<p><sub><strong>Abstract:</strong> <em>Elite cues have been shown to influence public attitudes and behaviors. But to what extent can political elites encourage mass non-compliance simply by naming the geographic location of a subset of the population? In this paper, we study the effects of elite cues on non-compliant behavior during the COVID-19 pandemic, focusing on a series of controversial tweets sent by US President Donald Trump calling for the “liberation” of Minnesota, Virginia and Michigan from COVID-19 restrictions at the height of the pan- demic. Leveraging the fact that these messages referred to three specific US states, we adopt a generalized difference-in-difference approach relying on spatial variation to identify the causal effects of the targeted cues. Our analysis finds that the President’s messages inspired mass non-compliance in the forms of an increase in public mobility, a decrease in adherence to stay-at- home restrictions, and an increase in criminal activity in the days following. Treatment effect heterogeneity further demonstrates Trump’s outsized influence on mobility in Republican counties and on criminal activity among White individuals. Our findings have broad implications for our understanding of the capacity of elites to motivate mass non-compliant behavior.</em></sub></p>
<h2 id="going-against-the-grain-climate-change-as-a-wedge-issue-for-the-radical-right" class="anchored">6. Going against the Grain: Climate Change as a Wedge Issue for the Radical Right</h2>
<p>with <a href="https://www.lse.ac.uk/government/people/academic-staff/sara-hobolt">Sara B Hobolt</a></p>
<p><sub><strong>Abstract:</strong> <em>In search of electoral gains, political parties mobilize issues to divide existing coalitions. We argue that by adopting a distinctively adversarial stance, radical right-wing parties have increasingly politicized climate change policies as a wedge issue. This strategy challenges the mainstream party consensus and seeks to mobilize voter concerns over green initiatives. Relying on state-of-the-art multilingual language models, we empirically examine nearly half a million press releases from 82 political parties across 9 European democracies to support this argument. Our findings demonstrate that the radical right’s oppositional climate policy rhetoric diverges significantly from the mainstream consensus. Survey data further reveals climate policy skepticism among voters across the political spectrum, highlighting the mobilizing potential of climate policies as a wedge issue. This research advances our understanding of issue competition and the politicization of climate change.</em></sub></p>
<h2 id="the-limits-of-partisan-motivated-reasoning-in-congress" class="anchored">5. The Limits of Partisan Motivated Reasoning in Congress</h2>
<p>with <a href="http://www.tevfikmuratyildirim.com/">Tevfik Murat Yildirim</a></p>
<p><a href="assets/covid_motivated_reasoning.html">Slide presentation</a> – 2023 MPSA</p>
<p><sub><strong>Abstract:</strong> <em>Downplaying the level of risk associated with COVID-19—along with opposition to public health measures aimed at containing the virus—became a rallying cry for certain legislators in the US Congress throughout the pandemic. Yet, to what degree are elites ``blind partisans,” willing to take on the positions of their parties regardless of potential consequences? In this article, we argue that elites’ strategic motivations transcend partisan motivated reasoning when individuals realize a risk that is otherwise misperceived. We demonstrate our argument in the context of the COVID-19 pandemic by examining the effects of COVID-19 infection on opposition to COVID-19 mitigation policies among United States’ legislators. After training a large language model to identify opposition messages from legislators, we adopt a staggered difference-in-difference design and use both Bayesian and frequentist perspectives to illustrate that COVID-19 infection caused a reduction of around 32 percent in legislators’ expressed opposition to measures aimed at reducing the spread of COVID-19. Our findings highlight the limits of partisan motivated reasoning for an issue as salient as COVID-19 and in elites as polarized as US Members of Congress.</em></sub></p>
<h2 id="the-gender-gap-in-elite-voter-responsiveness-online" class="anchored">4. The Gender Gap in Elite-Voter Responsiveness Online</h2>
<p><sub><strong>Abstract:</strong> <em>The extent to which descriptive representation furthers the substantive representation of women have been demonstrated in countless contexts. Yet, we know less about how female representatives respond dynamically to the shifting priorities of the women they represent. In this article, I examine representatives’ dynamic responsiveness to public policy priorities in the United States and United Kingdom. By combining hundreds of repeated public opinion surveys and the universe of representatives’ social media messages on Twitter, I show that women are individually more responsive than their male colleagues to both men and women’s policy priorities in both countries. The results of the analysis provide further evidence of the link between descriptive and substantive representation by illustrating that when left to act in an individual capacity, women go beyond furthering ``women’s issues’’ by displaying greater dynamic responsiveness to the public’s changing policy demands.</em></sub></p>
<h2 id="elite-legislators-and-unequal-representation-in-the-uk" class="anchored">3. Elite Legislators and Unequal Representation in the UK</h2>
<p><a href="https://osf.io/y6ne5">OSF preprint</a></p>
<p><a href="assets/main.html">Slide presentation</a> – 2023 PSA Parliaments</p>
<p><sub><strong>Abstract:</strong> <em>Studies identifying inequality in political representation in liberal democracies have become increasingly common. Yet, the extent to which this deficit is driven by the social class of elected representatives remains unclear. In this article, I study the effects of social class on legislative responsiveness in the United Kingdom by utilizing MPs’ attendance at one of the two Oxbridge universities – Oxford and Cambridge – as an encompassing proxy for social class. After combining 284 repeated public opinion surveys and classifying the universe of MPs’ questions and motions in the House of Commons from 2015-2023, I present evidence from multiple designs and estimation strategies that suggests that social class indeed constrains responsiveness. The results quantify unequal responsiveness in the United Kingdom and contribute to the literature on inequality in political representation.</em></sub></p>
<h2 id="youth-suffrage-and-legislative-responsiveness-to-climate-change-evidence-from-scotland" class="anchored">2. Youth Suffrage and Legislative Responsiveness to Climate Change: Evidence from Scotland</h2>
<!-- with [Tevfik Murat Yildirim](http://www.tevfikmuratyildirim.com/) (under review) -->
<p><a href="assets/ECPR_JS_youth_enfranchisement.pdf">Slide presentation</a> – 2022 ECPR Joint Sessions</p>
<p><sub><strong>Abstract:</strong> <em>While the vast majority of countries around the world require that voters be 18 years of age to cast a ballot, advocates of extending the franchise to include individuals aged 16 and over point to greater engagement, and countries that have lowered the voting age to 16 have witnessed increased political participation compared to some older groups. While a handful of studies have looked at the effects of lowering the voting age to 16 on political knowledge or participation, we have almost no understanding of how youth enfranchisement influences legislative behavior. In this article, we adopt a quasi-experimental design and the synthetic control method to examine legislative responsiveness following 2014 legislation that lowered the minimum voting age from 18 to 16 in Scotland. Analysis of 1.8 million legislative speeches from the House of Commons and the Scottish Parliament over the course of two decades indicates that lowering the voting age had only marginal effects on legislative responsiveness to younger voters. We conclude that enfranchisement of 16- and 17 year-olds does not go far enough to address a lack of substantive representation of young people.</em></sub></p>
<h2 id="the-relative-online-influence-of-ngos-corporations-and-the-media" class="anchored">1. The Relative Online Influence of NGOs, Corporations and the Media</h2>
<p>Working Paper <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4348997">SSRN</a></p>
<p><sub><strong>Abstract:</strong> <em>It is well-established that various actors compete to draw the attention of politicians to issues they view as important. Yet, given the numerous channels through which different actors attempt to influence the political agenda, we know less about the relative influence of these different actors. This article examines the degree to which non-governmental organizations (NGOs), multinational corporations (MNCs) and top UK media organizations influence the issue attention of parliamentarians in the UK House of Commons on the same playing field – social media. Using a dataset that includes the universe of social media messages from the top-100 British MNCs and NGOs, top British media organizations, and messages sent by elected MPs, I rely on Natural Language Processing (NLP) methods to measure the dynamic attention of each actor to different salient issues. After creating and validating an issue dictionary based on semi-supervised machine learning, I use vector autoregression (VAR) models to estimate the relative influence that each actor has on MPs’ issue attention online. Findings reveal broad support for the influence of the media and corporations.</em></sub></p>
<!-- ### Elite Cues and Mass Non-Compliance -- with [Sara B Hobolt](https://hobolt.com/) -->
<h2 id="other-words" class="anchored">Other words</h2>
<h4 id="academic" class="anchored">Academic:</h4>
<ul>
<li><a href="assets/DSI_presentation_dickson.html">DSI Research Showcase - COVID-19 and Congress</a></li>
<li><a href="assets/thesis_presentation.html" target="_blank">PhD Thesis slides</a></li>
<li>John Smith Centre Blog: <a href="https://www.johnsmithcentre.com/research-blog/are-women-in-parliament-more-responsive-to-public-priorities-zachary-p-dickson/">MPs’ Gender and Responsiveness in the House of Commons</a></li>
</ul>
<h4 id="non-academic" class="anchored">Non-academic:</h4>
<ul>
<li><a href="https://www.monstrous-regiment.com/shop/so-hormonal-essays-about-our-hormones">So Hormonal</a>. 2020. <em>Monstrous Regiment Publishing</em>. Horgan, E. and Dickson, Z.</li>
<li><a href="https://medium.com/@zachdickson94/%20were-women-mps-more-responsive-to-womens-priorities-during-the-pandemic-d62e4873d80b">Were women MPs more responsive to women’s priorities during the pandemic?</a></li>
</ul>
<p><br> <br> <br></p>
<div class="column-page-inset text-center">
<a class="btn btn-outline" ,="" href="https://twitter.com/sachary_" target="_blank" rel="noopener noreferrer">
    <i class="bi bi-twitter" role="img" aria-label="Twitter"></i>
</a>
<a class="btn btn-outline" ,="" href="https://github.com/z-dickson/" target="_blank" rel="noopener noreferrer">
    <i class="bi bi-github" role="img" aria-label="Github"></i>
</a>
<a class="btn btn-outline" ,="" href="https://www.linkedin.com/in/zachary-dickson-934b1381/" target="_blank" rel="noopener noreferrer">
    <i class="bi bi-linkedin" role="img" aria-label="LinkedIn"></i>
</a>
<a class="btn btn-outline" ,="" href="mailto:z.dickson@lse.ac.uk" target="_blank" rel="noopener noreferrer">
    <i class="ai bi-envelope" role="img" aria-label="email"></i>
    </a>


</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>